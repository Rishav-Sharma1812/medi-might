<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mental Health Companion</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <nav class="navbar">
            <div class="logo">Mental Health Companion</div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#chatbot">Chatbot</a></li>
                <li><a href="#features">Features</a></li>
                <li><a href="#resources">Resources</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <section id="home" class="hero">
        <div class="hero-content">
            <h1>Your Mental Health Companion</h1>
            <p>Providing support, guidance, and tools for a healthier mind.</p>
            <a href="#chatbot" class="btn-primary">Start Chatting</a>
        </div>
    </section>

    <section id="features" class="features">
        <h2>Features</h2>
        <div class="feature-grid">
            <div class="feature-item">
                <h3>AI-Powered Chatbot</h3>
                <p>Get personalized mental health support 24/7.</p>
            </div>
            <div class="feature-item">
                <h3>Mood Tracker</h3>
                <p>Log your emotions daily and track your progress over time.</p>
            </div>
            <div class="feature-item">
                <h3>Guided Exercises</h3>
                <p>Access breathing exercises and meditation tools to relax your mind.</p>
            </div>
        </div>
    </section>

    <section id="chatbot" class="chatbot">
        <h2>Chat with Us</h2>
        <div id="chat-window">
            <div id="messages">
                <div class="message bot-message">Hi! How can I assist you today?</div>
            </div>
        </div>
        <div id="input-area">
            <input type="text" id="user-input" placeholder="Type your message...">
            <button id="send-btn">Send</button>
        </div>
    </section>

    <section id="resources" class="resources">
        <h2>Resources</h2>
        <div class="resource-list">
            <article class="resource-item">
                <h3>Mental Health Tips</h3>
                <p>Practical advice to maintain your well-being.</p>
            </article>
            <article class="resource-item">
                <h3>Hotlines</h3>
                <p>Reach out to professionals during emergencies.</p>
            </article>
            <article class="resource-item">
                <h3>Community Support</h3>
                <p>Connect with others and share your experiences.</p>
            </article>
        </div>
    </section>

    <section class="chat-section">
        <h2>Chat with Us</h2>
        <p>Hi! How can I assist you today?</p>
        <button>Type your message...</button>
        
        <div class="resources-section">
            <div class="resource-item">
                <h3>Mental Health Tips</h3>
                <p>Practical advice to maintain your well-being.</p>
            </div>
            <div class="resource-item">
                <h3>Hotlines</h3>
                <p>Reach out to professionals during emergencies.</p>
            </div>
            <div class="resource-item">
                <h3>Community Support</h3>
                <p>Connect with others and share your experiences.</p>
            </div>
        </div>
    </section>
    

    <footer id="contact" class="footer">
        <div class="footer-content">
            <p>© 2025 Mental Health Companion | All rights reserved.</p>
            <p>Contact us: support@mentalhealthcompanion.com</p>
        </div>
    </footer>

    <script src="script.js">
        const chatForm = document.getElementById('chat-form');
const chatInput = document.getElementById('chat-input');
const chatOutput = document.getElementById('chat-output');

chatForm.addEventListener('submit', async (event) => {
    event.preventDefault();

    const userMessage = chatInput.value.trim();
    if (!userMessage) return;

    // Display user message
    const userBubble = document.createElement('div');
    userBubble.className = 'chat-bubble user';
    userBubble.innerText = userMessage;
    chatOutput.appendChild(userBubble);

    chatInput.value = '';

    // Show typing indicator
    const typingBubble = document.createElement('div');
    typingBubble.className = 'chat-bubble bot typing';
    typingBubble.innerText = 'Typing...';
    chatOutput.appendChild(typingBubble);

    try {
        // Make API call to backend
        const response = await fetch('http://localhost:5000/api/chat', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ message: userMessage }),
        });
        const data = await response.json();

        // Remove typing indicator
        chatOutput.removeChild(typingBubble);

        // Display bot reply
        const botBubble = document.createElement('div');
        botBubble.className = 'chat-bubble bot';
        botBubble.innerText = data.reply || 'Sorry, I didn’t understand that.';
        chatOutput.appendChild(botBubble);
    } catch (error) {
        console.error('Error:', error);

        // Remove typing indicator and display error
        chatOutput.removeChild(typingBubble);
        const errorBubble = document.createElement('div');
        errorBubble.className = 'chat-bubble bot';
        errorBubble.innerText = 'Oops! Something went wrong.';
        chatOutput.appendChild(errorBubble);
    }
});

    </script>
</body>
</html>
